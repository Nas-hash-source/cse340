<!--Content Heading-->
<% if (title) { %>
    <h1><%= title %></h1>
<% } else {
    res.redirect('/')
} %>


<%- messages() %>

<% if (errors) { %>
    <ul class="notice">
        <% errors.array().forEach(error => { %>
            <li><%= error.msg %></li>
        <%  }) %>
   </ul>
<% } %>

<div class="form-group form-group-maxwidth">
    <span class="constraints">ALL FIELDS ARE REQUIRED.</span>
    <form action="/inv/update" method="post" class="inventory-form">       
        <label for="classification_id">Classification</label>
        <%- classificationList %>
        <label for="inv_make">Make</label>
        <input 
            type="text" 
            id="inv_make" 
            name="inv_make"
            value="<%= locals.inv_make %>"
            minlength="3" 
            placeholder="Min of 3 characters"
            required
        >

        <label for="inv_model">Model</label>
        <input 
            type="text" 
            id="inv_model"
            name="inv_model"
            value="<%= locals.inv_model %>"
            minlength="3" 
            placeholder="Min of 3 characters"
            required
        >

        <label for="inv_description">Description</label>
        <textarea 
            name="inv_description" 
            id="inv_description" 
            cols="30" 
            rows="10"
            required
        ><%= locals.inv_description %></textarea>

        <label for="inv_image">Image Path</label>
        <input 
            type="text" 
            id="inv_image"
            name="inv_image"
            value="<%= locals.inv_image %>"
            pattern="^\/?([\w\d\s-]+\/)*[\w\d\s.-]+\.[\w]+$"
            required
        >

        <label for="inv_thumbnail">Thumbnail Path</label>
        <input 
            type="text" 
            id="inv_thumbnail"
            name="inv_thumbnail"
            value="<%= locals.inv_thumbnail %>"
            pattern="^\/?([\w\d\s-]+\/)*[\w\d\s.-]+\.[\w]+$"
            required
        >

        <label for="inv_price">Price</label>
        <input 
            type="text" 
            id="inv_price"
            name="inv_price"
            value="<%= locals.inv_price %>"
            pattern="^\d+(\.\d{1,2})?$" 
            placeholder="decimal or integer"
        >

        <label for="inv_year">Year</label>
        <input 
            type="text" 
            id="inv_year"
            name="inv_year"
            value="<%= locals.inv_year %>"
            placeholder="4-digit year"
            pattern="^\d{4}$"
            required
        >

        <label for="inv_miles">Miles</label>
        <input 
            type="number" 
            id="inv_miles"
            name="inv_miles"
            value="<%= locals.inv_miles %>"
            placeholder="digit only"
            required
        >

        <label for="inv_color">Color</label>
        <input 
            type="text"
            id="inv_color"
            name="inv_color"
            value="<%= locals.inv_color%>"
            pattern="^[a-zA-Z]+$"
            required  
        >
        
        <input class="inventory-submit" name="submit" type="submit" value="Update Vehicle">
        <input type="hidden" name="inv_id"
        <% if(locals.inv_id) { %> value="<%= locals.inv_id %>"
        <% } %>>
    </form>
</div>
